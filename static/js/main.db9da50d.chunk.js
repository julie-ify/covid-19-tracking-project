(this["webpackJsonpcovid-19-tracking-project"]=this["webpackJsonpcovid-19-tracking-project"]||[]).push([[0],{33:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(19),s=c.n(a),i=(c(33),c(12)),o=c(4),d=c(14),u=c(21),j=c(26),l=c.n(j),b=c(27),h=c(15),O=c(9),m=c.n(O),x=c(13),v=function(){var e=(new Date).toLocaleDateString().split("/").reverse(),t=e.splice(1,1).join("");return e.push(t),e.join("-")},f=function(){var e=Object(x.a)(m.a.mark((function e(){var t,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v(),e.next=3,fetch("https://api.covid19tracking.narrativa.com/api/".concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p="Covid_19_tracking_project/Countries/GET_COUNTRIES",g=[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(h.a)(Object(h.a)({},e),{},{countries:t.payload});default:return e}},N=function(){return(new Date).toISOString().slice(0,10)},C=function(){var e=Object(x.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=N(),e.next=3,fetch("https://api.covid19tracking.narrativa.com/api/".concat(c,"/country/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w="Covid_19_tracking_project/Country/GET_COUNTRY",_=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(h.a)(Object(h.a)({},e),{},{country:t.payload});default:return e}},S=Object(u.b)({countriesReducer:y,countryReducer:k}),L=Object(u.c)(S,Object(u.a)(l.a,b.a)),T=c(20),H=c(10),E=c(11),I=c(1),R=function(e){var t=e.region,c=0,n=t&&t.map((function(e){return e.today_confirmed&&(c+=e.today_confirmed),c})),r=n&&n.reduce((function(e,t){return e+t}),0);return Object(I.jsxs)("div",{className:"countryHeader",children:[Object(I.jsx)("div",{className:"imgWrap",children:Object(I.jsx)(H.a,{icon:E.d,className:"imgCover"})}),Object(I.jsx)("div",{className:"headerTextWrap",children:Object(I.jsxs)("div",{className:"headerText",children:[Object(I.jsx)("p",{className:"bigHeading",children:"All Countries with Covid-19 cases"}),Object(I.jsxs)("span",{children:[r," ","confirmed cases"]})]})})]})};R.defaultProps={region:[]};var D=R,F=function(e){var t=e.countryName;return Object(I.jsx)("header",{className:"appHeader",children:Object(I.jsxs)("div",{className:"headerFlex",children:[Object(I.jsxs)("div",{className:"headerItems",children:[Object(I.jsx)(i.b,{to:"/",exact:"".concat(!0),className:"regionLink",children:Object(I.jsx)(H.a,{icon:E.a,className:"fontawesome"})}),Object(I.jsx)("span",{children:"2021"})]}),Object(I.jsxs)("div",{children:[t&&Object(I.jsx)("span",{children:t}),!t&&Object(I.jsx)("span",{children:"All Countries Data"})]}),Object(I.jsxs)("div",{className:"headerItems",children:[Object(I.jsx)(H.a,{icon:E.e}),Object(I.jsx)(H.a,{icon:E.c})]})]})})};F.defaultProps={countryName:""};var P=F,B=c(2),G=function(e){var t=e.country,c=e.cardNumber;return Object(I.jsx)("div",{className:2===c||3===c?"coloredCard":"plainCard",children:Object(I.jsxs)("div",{className:"countryMap",children:[Object(I.jsx)(H.a,{icon:E.d,className:"map"}),Object(I.jsxs)("div",{className:"selectCountry",children:[Object(I.jsx)(i.b,{to:"".concat(t.id),className:"regionLink",children:Object(I.jsx)(H.a,{icon:E.b})}),Object(I.jsxs)("div",{className:"countryStat",children:[Object(I.jsx)("div",{className:"bigHeading",children:t.name}),Object(I.jsxs)("div",{children:[t.today_confirmed," ","cases"]})]})]})]})})};G.defaultProps={country:c.n(B).a.shape({id:""}),cardNumber:0};var M=G,W=function(){var e=0,t=Object(d.c)((function(e){return e.countriesReducer.countries})),c=Object(n.useState)(""),r=Object(T.a)(c,2),a=r[0],s=r[1];return Object(I.jsxs)("div",{className:"appWrap",children:[Object(I.jsx)(P,{}),Object(I.jsxs)("div",{children:[Object(I.jsx)(D,{region:t}),Object(I.jsxs)("div",{className:"countrySearch",children:[Object(I.jsx)("div",{className:"countries",children:"stats by country - 2021"}),Object(I.jsx)("input",{placeholder:"Search...",className:"searchBar",value:a,onChange:function(e){s((function(){return e.target.value}))}})]}),Object(I.jsx)("ul",{className:"mainGrid",children:t&&t.filter((function(e){return""===a?e:e.name.toLowerCase().includes(a.toLocaleLowerCase())})).map((function(t){return e+1>4?e=1:e+=1,Object(I.jsx)(M,{country:t,cardNumber:e},t.id)}))})]})]})},A=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),c=t[0],r=t[1],a=Object(d.b)(),s=Object(o.f)().id;Object(n.useEffect)((function(){var e;a((e=s,function(){var t=Object(x.a)(m.a.mark((function t(c){var n,r,a,s,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:return n=t.sent,t.next=5,n;case 5:r=t.sent,a=N(),s=Object.values(r.dates[a].countries),(i=s.map((function(e){return{id:e.id,name:e.name,today_deaths:e.today_deaths,today_confirmed:e.today_confirmed,regions:e.regions}})))?c({type:w,payload:i[0]}):console.log("not working country");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[a,s]);var i=Object(d.c)((function(e){return e.countryReducer.country}));if(!i)return null;var u=i.name,j=i.today_confirmed,l=i.regions;return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)(P,{countryName:u})}),Object(I.jsxs)("div",{className:"eachCountry",children:[Object(I.jsx)("div",{children:Object(I.jsx)(H.a,{icon:E.d,className:"imgCover"})}),Object(I.jsxs)("div",{className:"eachCountryHead",children:[Object(I.jsx)("h1",{className:"bigHeading",children:u}),Object(I.jsxs)("span",{children:[j," ","confirmed cases"]})]})]}),Object(I.jsxs)("div",{className:"regionSearch",children:[Object(I.jsx)("div",{className:"regions",children:"region breakdown - 2021"}),Object(I.jsx)("input",{placeholder:"Search...",className:"searchBar",value:c,onChange:function(e){r((function(){return e.target.value}))}})]}),Object(I.jsxs)("div",{className:"eachCountryGrid",children:[l&&l.filter((function(e){return""===c?e:e.name.toLowerCase().includes(c.toLocaleLowerCase())})).map((function(e){return Object(I.jsxs)("div",{className:"eachCountryCard",children:[Object(I.jsx)("div",{className:"bgHeading",children:e.name}),Object(I.jsxs)("div",{className:"cases",children:[Object(I.jsxs)("div",{children:[e.today_confirmed," ","confirmed cases"]}),Object(I.jsx)(H.a,{icon:E.b})]})]},e.id)})),!l.length&&Object(I.jsx)("h1",{className:"errorMsg",children:"There're no listed regions for this country!!"})]})]})};var J=function(){return Object(n.useEffect)((function(){L.dispatch(function(){var e=Object(x.a)(m.a.mark((function e(t){var c,n,r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return c=e.sent,e.next=5,c;case 5:n=e.sent,r=v(),console.log(r),a=Object.values(n.dates[r].countries),(s=a.map((function(e){return{id:e.id,name:e.name,today_deaths:e.today_deaths,today_confirmed:e.today_confirmed}})))?t({type:p,payload:s}):console.log("not working");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(I.jsx)(d.a,{store:L,children:Object(I.jsx)(i.a,{children:Object(I.jsxs)(o.c,{children:[Object(I.jsx)(o.a,{path:"/",exact:!0,children:Object(I.jsx)(W,{})}),Object(I.jsx)(o.a,{path:"/:id",children:Object(I.jsx)(A,{})})]})})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(i.a,{basename:".",children:Object(I.jsx)(J,{})})}),document.getElementById("root")),U()}},[[47,1,2]]]);
//# sourceMappingURL=main.db9da50d.chunk.js.map